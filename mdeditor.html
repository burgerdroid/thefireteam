<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="stylesheet" type="text/css" href="styles/markdown.css"> 
    <title>Markdown Test</title>
</head>
<body>
<textarea id="md-src" rows="20" style="margin: 1rem; width: 90%;">
Markdown Editor
===

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque volutpat bibendum metus, at congue nisl iaculis vitae. Aliquam porttitor tellus ac lorem sagittis, ut volutpat metus vehicula. Sed elementum placerat ipsum, non pharetra velit finibus non. Suspendisse nisl justo, mattis id sem id, accumsan gravida risus. Mauris a dui orci. Suspendisse sed dignissim erat. Vivamus id est ex. Phasellus aliquet suscipit sem, vitae sollicitudin orci consectetur sed. Nam vitae nunc ultrices, cursus lacus eu, vestibulum erat.

## Steps for usage

1. Markdown goes __here__.
   * _Typy typy._   
     More text for this point.   
     ...and a little bit more.

2. Originally had an update button - it now updates as you type
   * Just keep typing.

3. Winning.
   * ___Yay!___
</textarea>
<br><button style="margin: 1rem;"onclick="displayMarkdown();">Update</button>
<br><br><hr>
<section class="page" id="md-block"></section>
<script src="modules/commonmark.min.js"></script>
<script>	
function displayMarkdown() {
    //let mdsrc = document.getElementById("md-src");
    let mdblock = document.getElementById("md-block");
    let reader = new commonmark.Parser();
    let writer = new commonmark.HtmlRenderer();
    let parsed = reader.parse(mdsrc.value); // parsed is a 'Node' tree
	mdblock.innerHTML = writer.render(parsed); // result is a String
}

var mdsrc = document.getElementById('md-src');

mdsrc.onkeyup = function ()
{
   displayMarkdown();
};


displayMarkdown();



</script>
</body>
</html>
